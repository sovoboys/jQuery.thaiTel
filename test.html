<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>jQuery.thaiTel - Test supported/unsupported formats.</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
  <style type="text/css">
  pre{
    display: block;
    padding: 0;
    margin: 0;
    font-size: 13px;
    line-height: 1.42857143;
    color: #635e5e;
    word-break: break-all;
    word-wrap: break-word;
    background-color: transparent;
    border: transparent;
    font-style: italic;
  }
  </style>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>

<body>

  <div class="container-fluid">
    <div class="page-heading">
      <h1>jQuery.thaiTel - Test supported/unsupported formats.</h1>
      <hr>
    </div>
    <div class="row">
      <div class="col-sm-12 table-responsive">
        <table class="table table-hover table-condensed table-striped">
          <thead>
            <tr>
              <th class="col-xs-3">Data <small><code>table tbody > tr[data-phone-number]</code></small></th>
              <th class="col-xs-4">Data Remark</th>
              <th>Expected</th>
              <th>Result</th>
              <th class="col-xs-1 text-right"><span class="glyphicon glyphicon-ok text-muted"></span></th>
            </tr>
          </thead>
          <tbody id="test-result"></tbody>
        </table>
      </div>
    </div>
  </div>



  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="jquery.thaitel.js"></script>
  <script type="text/javascript">
  $(function (){

    let
    testData = [
      'Simple numbers',
      ['023456789', 'Just numeric', '0234567'],
      ['02-345-6789', 'Capical home number, formatted using dashes',  '023456789'],
      ['055 123 456', 'Non-capital number, formatted using spaces',  '055123456'],
      ['+6698 765 - 4321', 'Mobile number, using both dash & spaces',  '0987654321'],
      ['0 987-654-321', 'Weired formatted, but seems legit',  '0987654321'],
      ['191', '** This plugin NOT supported special numbers.', '-'],

      'Range',
      ['02-123-4567-9', 'Notice 7-9', '021234567, 021234568, 021234569'],
      ['02-123-4569-71', '2 digits range', '021234569, 021234570, 021234571'],
      ['02-123-4567-69', '2 digits, but why?', '021234567, 021234568, 021234569'],

    ],
    $stage = $('#test-result')
    ;

    testData.forEach(function (data){
      let $tr;
      if (Array.isArray(data)) {
        $tr = $('<tr>').attr('data-phone-number', data[0]);
        ['data-display', 'remark', 'expected', 'result', 'ico', ].forEach(function (cls){
          let $td = $('<td>').addClass(cls);
          cls == 'data-display'        && $td.append($('<pre>').text(data[0]));
          cls == 'remark' && data[1]   && $td.append($('<small>').addClass('text-muted').text(data[1]));
          cls == 'expected' && data[2] && $td.append($('<span>').addClass('text-primary').text(data[2]));
          $tr.append($td);
        });
      } else if (typeof data == typeof '') {
        $tr = $('<tr>').addClass('subhead');
        $tr.append($('<td>').attr('colspan', 5).addClass('text-muted').append($('<h5>').text(data)));
      }
      $stage.append($tr);
    });

    if (typeof jQuery == typeof function(){}) {
      if ($.fn.thaiTel) {

      } else {
        console.error('Requires $.fn.thaiTel.');
      }
    } else {
      alert('Error: jQuery required.');
      console.error('Error: Requires jQuery.');
    }

  });
  </script>
</body>
</html>
